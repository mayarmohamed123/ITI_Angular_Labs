<div class="container">
  <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
    <h2>Sign Up</h2>

    <label>Email</label>
    <input formControlName="email" type="email" />
    @if (signupForm.controls.email.touched && signupForm.controls.email.invalid)
    {
    <small *ngIf="signupForm.controls.email.errors?.['required']"
      >Email is required</small
    >
    <small *ngIf="signupForm.controls.email.errors?.['email']"
      >Invalid email</small
    >
    }

    <label>Username</label>
    <input formControlName="username" type="text" />
    @if (signupForm.controls.username.touched &&
    signupForm.controls.username.invalid) {
    <small>Username is required</small>
    }

    <label>Password</label>
    <div class="password-field">
      <input
        [type]="showPassword() ? 'text' : 'password'"
        formControlName="password"
      />
      <button type="button" (click)="togglePassword()">
        {{ showPassword() ? "Hide" : "Show" }}
      </button>
    </div>
    @if (signupForm.controls.password.touched &&
    signupForm.controls.password.invalid) {
    <small *ngIf="signupForm.controls.password.errors?.['required']"
      >Password is required</small
    >
    <small *ngIf="signupForm.controls.password.errors?.['minlength']"
      >Min 6 characters</small
    >
    }

    <button type="submit" [disabled]="signupForm.invalid">Submit</button>
  </form>
</div>
